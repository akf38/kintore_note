<div class="container">
  <row>
    <h2><%= "#{@today_date}トレーニング詳細" %></h2>
  </row>
  <row>
      <%= render 'layouts/errors', obj: @training_record %>
      <%= form_with model: @training_record, url: training_records_new_record_create_path, local: true do |f| %>
        
        <% category_options = Part.order(:id).map{|c| [c.name, c.id, data: { children_path: part_trainings_path(c)}] } %>
        <%= f.select :part_id, category_options, {include_blank: 'ーー部位を選択ーー' }, class: 'select-parent my-3' %>
        
        <% sub_categories = Part.try(:trainings) || [] %>
        <% sub_category_options = sub_categories.map{ |c| [c.name, c.id] } %>
        <%= f.select :training_id, sub_category_options, { include_blank: 'ーー部位別トレーニング一覧ーー' }, class: 'select-children my-3' %><br />
        
        <%= f.number_field :weight, class: 'mb-4' %>kg
        <%= f.number_field :rep %>回
        <%= f.number_field :set %>セット
        
        <%= f.submit '記録する', class: ' btn btn-primary' %>
        
    <% end %>
  </row>
  <row>
    <table class="table">
      <thead>
        <th>トレーニング名</th>
        <th>重量</th></th>
        <th>レップ数</th>
        <th>セット数</th>
      </thead>
      <tbody>
        <% @record.training_records.each do |t_record| %>
        <tr>
          <td><%= t_record.training.name %></td>
          <td><%= t_record.weight %>kg</td>
          <td><%= t_record.rep %>回</td>
          <td><%= t_record.set %>セット</td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </row>
  